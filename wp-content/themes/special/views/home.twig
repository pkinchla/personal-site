{% extends "base.twig" %}

{% block content %}
  <article id="post-{{post.ID}}">
    <header>
      <h1>
        {{post.title}}
        {% if page_number %}
        <span>(Page {{page_number}})</span>
        {% endif %}
      </h1>
      <div class="assistive-text">
        <time datetime="{{post.modified_date|date('c')}}">Last Update on {{post.modified_date|date('l, F jS, Y')}}</time>
      </div>
    </header>
    <figure>
      <picture>
        <source srcset="{{post.get_thumbnail.src|resize(2000)|towebp}} 2000w, {{post.get_thumbnail.src|resize(1200)|towebp}} 1200w, {{post.get_thumbnail.src|resize(600)|towebp}} 600w, {{post.get_thumbnail.src|resize(300)|towebp}} 300w, {{post.get_thumbnail.src|resize(150)|towebp}} 150w"
                sizes="(min-width:120em) 62vw, (min-width:64em) 72vw, (min-width:40em) 66vw, 100vw"
                type="image/webp"
        >
        <source srcset="{{post.get_thumbnail.src|resize(2000)}} 2000w, {{post.get_thumbnail.src|resize(1200)}} 1200w, {{post.get_thumbnail.src|resize(600)}} 600w, {{post.get_thumbnail.src|resize(300)}} 300w, {{post.get_thumbnail.src|resize(250)}} 250w, {{post.get_thumbnail.src|resize(150)}} 150w"
                sizes="(min-width:120em) 62vw, (min-width:64em) 72vw, (min-width:40em) 66vw, 100vw"
                type="image/webp"
        >
        <img src="{{post.get_thumbnail.src}}"
             alt="{{post.get_thumbnail.alt}}"
             width="{{post.get_thumbnail.width}}"
             height="{{post.get_thumbnail.height}}"
        >
      </picture>
    </figure>
    {{post.content}}
    <section>
      <h2 id="post-list" class="assistive-text">Blog Posts</h2>
      {% for post in posts %}
        {% include ['tease-'~post.post_type~'.twig', 'tease.twig'] %}
      {% endfor %}
      {% include 'pagination.twig' %}
    </section>
    <section>
      <h2 id="categories">Categories</h2>
      <ol>
        {% for cat in categories %}
          <li><a href="{{cat.link}}">{{cat.title}}</a>  (<a href="/blog/category/{{cat.title|lower}}/feed/">RSS</a>)</li>
        {% endfor %}
      </ol>
    </section>
  </article>
{% endblock %}